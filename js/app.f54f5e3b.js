(function(t){function e(e){for(var n,r,s=e[0],d=e[1],c=e[2],u=0,p=[];u<s.length;u++)r=s[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],n=!0,s=1;s<o.length;s++){var d=o[s];0!==i[d]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=o[0]))}return t}var n={},i={app:0},a=[];function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=n,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var l=d;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"257f":function(t,e,o){},"350a":function(t,e,o){"use strict";o("50d8")},"50d8":function(t,e,o){},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var n=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("main",[o("section",{staticClass:"container"},[o("h1",[t._v("TODO")]),o("input",{staticClass:"text-field",attrs:{type:"text",placeholder:"カテゴリでフィルタ"},domProps:{value:t.input.filter.category},on:{change:t.onInputFilterCategory}}),o("input",{staticClass:"text-field add-category-field",attrs:{type:"text",placeholder:"カテゴリを追加"},domProps:{value:t.input.candidate.category.name},on:{change:t.onInputCandidateCategory}}),o("button",{staticClass:"deleted-todos-button",attrs:{deletedTodoList:t.deletedTodoList},on:{click:t.showDeletedTodoList}},[t._v("削除済Todo ")]),t._l(this.filteredTodoList,(function(e){return[o("TodoItem",{key:e._id,attrs:{content:e,deleteTodoItem:t.handleDeleteItem,updateTodoItem:t.handleUpdateTodoItem}})]}))],2),o("ToolBox",{attrs:{addTodoItem:t.handleAddTodoItem,inputedCandidateCategories:t.candidates}})],1)},a=[],r=o("2909"),s=(o("a15b"),o("d81d"),o("d3b7"),o("25f0"),o("4de4"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"todo-item",class:t.classObject},[o("button",{staticClass:"done-button",class:t.classObject,on:{click:t.toggleIsDone}},[t._v("○")]),o("button",{staticClass:"edit-button",on:{click:t.openEditDialog}},[t._v("△")]),t.showDialog?o("div",{attrs:{id:"overlay"}},[o("div",{attrs:{id:"content"}},[o("div",{staticClass:"input-container"},[o("label",{attrs:{for:"title"}},[t._v("タイトル")]),o("input",{staticClass:"text-field",attrs:{id:"title",type:"text"},domProps:{value:this.contentToUpdate.title},on:{keyup:t.onInputTitle}})]),o("div",{staticClass:"input-container"},[o("label",{attrs:{for:"expiresAt"}},[t._v("期限")]),o("input",{staticClass:"text-field",attrs:{id:"expiresAt",type:"text"},domProps:{value:this.contentToUpdate.expiresAt},on:{keyup:t.onInputExpiresAt}})]),o("div",{staticClass:"input-container"},[o("label",{attrs:{for:"category"}},[t._v("カテゴリー")]),o("input",{staticClass:"text-field",attrs:{id:"category",type:"text"},domProps:{value:this.contentToUpdate.category},on:{keyup:t.onInputCategory}})]),o("div",{staticClass:"input-container"},[o("label",{attrs:{for:"memo"}},[t._v("メモ")]),o("input",{staticClass:"text-field",attrs:{id:"memo",type:"text"},domProps:{value:this.contentToUpdate.memo},on:{keyup:t.onInputMemo}})]),o("div",{staticClass:"button-wrapper"},[o("button",{staticClass:"update-button",on:{click:t.onClickUpdate}},[t._v("更新")]),o("button",{staticClass:"cancel-button",on:{click:t.closeEditDialog}},[t._v("閉じる ")])])])]):t._e(),o("button",{staticClass:"delete-button",on:{click:t.onClickDelete}},[t._v("X")]),o("h2",{class:t.classObject},[t._v(t._s(t.content.title))]),t.content.expiresAt?o("p",[t._v(t._s(t.content.expiresAt)+"まで")]):t._e(),t.content.category?o("p",[t._v(t._s(t.content.category))]):t._e(),t.content.memo?o("p",[t._v(t._s(t.content.memo))]):t._e()])}),d=[],c=n["a"].extend({name:"TodoItem",props:{content:{type:Object,required:!0},deleteTodoItem:{type:Function,required:!0},updateTodoItem:{type:Function,required:!0}},data:function(){return{showDialog:!1}},methods:{onClickDelete:function(){this.deleteTodoItem(this.content._id)},toggleIsDone:function(){this.content.isDone=!this.content.isDone},openEditDialog:function(){this.showDialog=!0},closeEditDialog:function(){this.showDialog=!1},onClickUpdate:function(){var t={_id:this.contentToUpdate._id,title:this.contentToUpdate.title,expiresAt:this.contentToUpdate.expiresAt,category:this.contentToUpdate.category,memo:this.contentToUpdate.memo};this.updateTodoItem(t),this.showDialog=!1},onInputTitle:function(t){this.contentToUpdate.title=t.target.value},onInputExpiresAt:function(t){this.contentToUpdate.expiresAt=t.target.value},onInputCategory:function(t){this.contentToUpdate.category=t.target.value},onInputMemo:function(t){this.contentToUpdate.memo=t.target.value}},computed:{classObject:function(){return{done:this.content.isDone}},contentToUpdate:function(){return{_id:this.content._id,title:this.content.title,expiresAt:this.content.expiresAt,category:this.content.category,memo:this.content.memo}}}}),l=c,u=(o("350a"),o("2877")),p=Object(u["a"])(l,s,d,!1,null,"31414787",null),f=p.exports,h=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{staticClass:"tool-box"},[o("input",{staticClass:"text-field",attrs:{type:"text",placeholder:"タイトル"},domProps:{value:t.title},on:{keyup:t.onInputTitle}}),o("input",{staticClass:"text-field",attrs:{type:"text",placeholder:"期限"},domProps:{value:t.expiresAt},on:{keyup:t.onInputExpiresAt}}),t._l(this.generateCandidateCategories,(function(e){return o("div",{key:e.id},[o("input",{attrs:{type:"radio",name:"selectCategory",id:"radio-"+e.id},domProps:{value:e.name},on:{change:t.onSelectCategory}}),o("label",{attrs:{for:"radio-"+e.id}},[t._v(t._s(e.name)+" ")])])})),o("input",{staticClass:"text-field",attrs:{type:"text",placeholder:"メモ"},domProps:{value:t.memo},on:{keyup:t.onInputMemo}}),o("button",{on:{click:t.onClickAdd}},[t._v("追加")])],2)},m=[],g=(o("fb6a"),function(t){return function(){return Object(r["a"])(Array(t)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")}}),y=g(8),v=n["a"].extend({name:"ToolBox",props:{addTodoItem:{type:Function,required:!0},inputedCandidateCategories:{type:Array,required:!1}},data:function(){return{title:"",expiresAt:"",category:"",memo:"",candiDateCategories:[{id:y(),name:"遊び"},{id:y(),name:"仕事"},{id:y(),name:"プライベート"}]}},methods:{onInputTitle:function(t){this.title=t.target.value},onInputExpiresAt:function(t){this.expiresAt=t.target.value},onSelectCategory:function(t){this.category=t.target.value},onInputMemo:function(t){this.memo=t.target.value},onClickAdd:function(){this.addTodoItem({title:this.title,expiresAt:this.expiresAt,category:this.category,memo:this.memo}),this.title="",this.expiresAt="",this.category="",this.memo=""}},computed:{generateCandidateCategories:function(){if(0===this.inputedCandidateCategories.length)return this.candiDateCategories;var t=this.candiDateCategories.slice();return this.inputedCandidateCategories.map((function(e){return t.push(e)})),t}}}),b=v,x=(o("fc07"),Object(u["a"])(b,h,m,!1,null,"3ddd766c",null)),T=x.exports,C=function(t){return function(){return Object(r["a"])(Array(t)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")}},_=C(8),I="https://jsondb.app/todoapp/todos/",A=n["a"].extend({name:"App",components:{TodoItem:f,ToolBox:T},data:function(){return{todoList:null,deletedTodoList:[],input:{filter:{category:null},candidate:{category:{id:null,name:null}}},candidates:[]}},mounted:function(){var t=this;this.axios.get(I).then((function(e){t.todoList=e.data.data})).catch((function(t){console.log("Get Error: ",t)}));var e=localStorage.getItem("deletedTodoList");if(e){var o=JSON.parse(e);this.deletedTodoList=o}},computed:{filteredTodoList:function(){var t=this;return null===this.input.filter.category?this.todoList:this.todoList.filter((function(e){return e.category===t.input.filter.category}))}},methods:{onInputFilterCategory:function(t){""!==t.target.value?this.input.filter.category=t.target.value:this.input.filter.category=null},onInputCandidateCategory:function(t){""!==t.target.value?(this.input.candidate.category={id:_(),name:t.target.value},this.candidates.push(this.input.candidate.category),this.input.candidate.category={}):this.input.candidate.category=null},handleAddTodoItem:function(t){if(""!==t.title){var e={title:t.title,expiresAt:t.expiresAt||null,category:t.category||null,memo:t.memo||null,isDone:!1};this.axios.post(I,e),this.todoList.push(e),localStorage.setItem("deletedTodoList",JSON.stringify(this.deletedTodoList))}},handleDeleteItem:function(t){this.axios.delete(I+t),this.todoList=this.todoList.filter((function(e){return e._id!==t}))},handleUpdateTodoItem:function(t){this.axios.put(I+String(t._id),t);var e=this.todoList.filter((function(e){return e._id==t._id}))[0];for(var o in e)e[o]=t[o]},showDeletedTodoList:function(){0!==this.deletedTodoList.length?this.deletedTodoList.map((function(t){return console.log(t.title)})):console.log("削除済Todoはありません")}}}),k=A,D=(o("fffb"),o("88ab"),Object(u["a"])(k,i,a,!1,null,"0f530fee",null)),O=D.exports,j=o("2f62");n["a"].use(j["a"]);var L=new j["a"].Store({state:{},mutations:{},actions:{},modules:{}}),w=o("bc3a"),U=o.n(w),P=o("2106"),S=o.n(P);n["a"].config.productionTip=!1,n["a"].use(S.a,U.a),new n["a"]({store:L,render:function(t){return t(O)}}).$mount("#app")},"88ab":function(t,e,o){"use strict";o("257f")},a210:function(t,e,o){},bb21:function(t,e,o){},fc07:function(t,e,o){"use strict";o("bb21")},fffb:function(t,e,o){"use strict";o("a210")}});
//# sourceMappingURL=app.f54f5e3b.js.map